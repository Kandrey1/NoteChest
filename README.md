# Note Chest
Web приложение "Note Chest" для хранения полезных ссылок и заметок.

## Технологий
Реализовано по принципу микросервисов на Docker.
 - ЯП: Python 
 - Фреймворк: Flask 
 - SQL : SQLAlchemy (Postgres)

## Реализовано
- ### Сервис fronted
  Связывает сервисы между собой. Является web приложением для сервисов.
 
- ### Сервис user
  - Отвечает за регистрацию и авторизацию новых пользователей.

  #### API сервиса: 
  - api/user/register - регистрация
  - api/user/auth - авторизация
  - api/user/logout - logout
  - api/user/crud - обновление данных и удаление
  - api/user/get/all - получение списка пользователей
  - api/user/get - получение данных пользователя по id

- ### Сервис Link
  - Отвечает за добавление ссылок.

  #### API сервиса: 
  - api/link/add - добавить ссылку
  - api/link/update - обновить ссылку
  - api/link/delete - удалить ссылку
  - api/link/get/all - получение всех ссылок в БД
  - api/link/get - получение всех ссылок пользователя

- ### Сервис Note
  - Отвечает за добавление заметок.

  #### API сервиса: 
  - api/note/add - добавить ссылку
  - api/note/update - обновить ссылку
  - api/note/delete - удалить ссылку
  - api/note/get/all - получение всех заметок в БД
  - api/note/get - получение всех заметок пользователя
  
## Установка

Выполнить команды: 

`git clone https://github.com/Kandrey1/NoteChest.git`

`cd NoteChest`

`docker-compose up --build -d`

Дождаться запуска контейнера с БД(папки database в корне проекта) и создания таблиц в ней.
(пока БД не установится и не запуститься полностью, при попытке регистрации возможна 
ошибка 500)

Команда позволяет проверить работоспособность сервисов.(в виртуальном окружении должен
быть установлен requests (`pip install requests==2.28.1`))

`python smoke_test_services.py`

Может возникнуть проблема при установке если у Вас заняты порты 5000, 5001, 5002, 5003.
В этом случае в файле Docker-compose.yaml замените их на свободные.

Приложение запускается по адресу:
`http://127.0.0.1:5000`

## Тестирование
  Перед тестированием установить необходимые пакеты в виртуальное окружение.
  В корне приложения выполнить команду

  `pip install -r requirements.txt`

#### Тестирование сервисов: User, Link, Note 
- Перейти в директорию сервиса.

  `cd NoteChest/service/<нужный сервис>`

  Выполнить команды:

  `pytest tests` - проверка работоспособности функций и api

  `python smoke_test.py` - проверка создание контейнера и его запуска
